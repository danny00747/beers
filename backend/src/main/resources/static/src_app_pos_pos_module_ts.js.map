{"version":3,"sources":["./src/app/pos/pos-routing.module.ts","./src/app/pos/pos.module.ts","./src/app/pos/pos/pos.component.ts","./src/app/pos/transaction/transaction.enum.ts","./src/app/pos/transaction/transaction.service.ts","./src/app/pos/pos/pos.component.css","./src/app/pos/pos/pos.component.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAwC;AACc;AAEJ;AAElD,MAAM,MAAM,GAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,4DAAY,EAAE,CAAC;IAMjD,gBAAgB,SAAhB,gBAAgB;CAAG;AAAnB,gBAAgB;IAJ5B,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACXiB;AACN;AAEkB;AACH;AACL;AACoB;IAOzD,SAAS,SAAT,SAAS;CAAG;AAAZ,SAAS;IALrB,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,yDAAY,EAAE,iEAAgB,EAAE,mEAAiB,CAAC;QAC5D,YAAY,EAAE,CAAC,4DAAY,CAAC;QAC5B,SAAS,EAAE,CAAC,gFAAkB,CAAC;KAChC,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbsC;AAChB;AACX;AAEkB;AAEc;AACM;IAY1D,YAAY,SAAZ,YAAY;IAGvB,YACU,kBAAsC,EACtC,SAAoB;QADpB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,cAAS,GAAT,SAAS,CAAW;QAJtB,SAAI,GAAG,IAAI,4CAAO,EAAE;IAKzB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,kBAAkB,GAAG;YACxB,aAAa,EAAE,KAAK;YACpB,WAAW,EAAE,iFAAsB;SACpB;IACnB,CAAC;IAED,QAAQ,CAAC,WAAyB;QAChC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,oBAAoB,CAAC;QAC9C,SAAS,CAAC,IAAI,CAAC;YACb,KAAK,EAAE,mBAAmB;SAC3B,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB;aACrC,kBAAkB,CAAC,WAAW,CAAC;aAC/B,IAAI,CACH,sDAAM,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,IAAI,IAAI,EAAE,KAAK,SAAS,CAAC,EAC9C,mDAAG,CAAC,CAAC,aAAa,EAAE,EAAE;YACpB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,oBAAoB,CAAC;YAC9C,SAAS,CAAC,IAAI,CAAC;gBACb,KAAK,EAAE,mBAAmB;aAC3B,CAAC;QACJ,CAAC,CAAC,CACH;aACA,SAAS,EAAE;IAChB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;IACzB,CAAC;CACF;;YAjDQ,gFAAkB;YAHlB,yDAAS;;AAeL,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,SAAS;QACnB,6EAAmC;;KAEpC,CAAC;GACW,YAAY,CAqCxB;AArCwB;;;;;;;;;;;;;;;;ACnBzB,IAAY,eAIX;AAJD,WAAY,eAAe;IACzB,qDAAI;IACJ,yDAAM;IACN,+DAAS;AACX,CAAC,EAJW,eAAe,KAAf,eAAe,QAI1B;;;;;;;;;;;;;;;;;;;;ACJyC;AACQ;IAKrC,kBAAkB,SAAlB,kBAAkB;IAC7B,gBAAe,CAAC;IAEhB,kBAAkB,CAAC,WAAyB;QAC1C,OAAO,IAAI,iDAAe,CAAS,0BAA0B,CAAC,CAAC,YAAY,EAAE;IAC/E,CAAC;CACF;;AANY,kBAAkB;IAD9B,yDAAU,EAAE;GACA,kBAAkB,CAM9B;AAN8B;;;;;;;;;;;;;;;;ACN/B,iEAAe,8CAA8C,mHAAmH,E;;;;;;;;;;;;;;;ACAhL,iEAAe,+RAA+R,E","file":"src_app_pos_pos_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core'\nimport { RouterModule, Routes } from '@angular/router'\n\nimport { PosComponent } from './pos/pos.component'\n\nconst routes: Routes = [{ path: '', component: PosComponent }]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PosRoutingModule {}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\n\nimport { AppMaterialModule } from '../app-material.module'\nimport { PosRoutingModule } from './pos-routing.module'\nimport { PosComponent } from './pos/pos.component'\nimport { TransactionService } from './transaction/transaction.service'\n\n@NgModule({\n  imports: [CommonModule, PosRoutingModule, AppMaterialModule],\n  declarations: [PosComponent],\n  providers: [TransactionService],\n})\nexport class PosModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core'\nimport { filter, tap } from 'rxjs/operators'\nimport { SubSink } from 'subsink'\n\nimport { UiService } from '../../common/ui.service'\nimport { ITransaction } from '../transaction/transaction'\nimport { TransactionType } from '../transaction/transaction.enum'\nimport { TransactionService } from '../transaction/transaction.service'\n\ninterface IEvent {\n  event: 'checkoutCompleted' | 'checkoutInitiated'\n}\ndeclare let dataLayer: IEvent[]\n\n@Component({\n  selector: 'app-pos',\n  templateUrl: './pos.component.html',\n  styleUrls: ['./pos.component.css'],\n})\nexport class PosComponent implements OnInit, OnDestroy {\n  private subs = new SubSink()\n  currentTransaction!: ITransaction\n  constructor(\n    private transactionService: TransactionService,\n    private uiService: UiService\n  ) {}\n\n  ngOnInit() {\n    this.currentTransaction = {\n      paymentAmount: 25.78,\n      paymentType: TransactionType.Credit,\n    } as ITransaction\n  }\n\n  checkout(transaction: ITransaction) {\n    this.uiService.showToast('Checkout initiated')\n    dataLayer.push({\n      event: 'checkoutInitiated',\n    })\n    this.subs.sink = this.transactionService\n      .processTransaction(transaction)\n      .pipe(\n        filter((tx) => tx != null || tx !== undefined),\n        tap((transactionId) => {\n          this.uiService.showToast('Checkout completed')\n          dataLayer.push({\n            event: 'checkoutCompleted',\n          })\n        })\n      )\n      .subscribe()\n  }\n\n  ngOnDestroy() {\n    this.subs.unsubscribe()\n  }\n}\n","export enum TransactionType {\n  Cash,\n  Credit,\n  LemonCoin,\n}\n","import { Injectable } from '@angular/core'\nimport { BehaviorSubject, Observable } from 'rxjs'\n\nimport { ITransaction } from './transaction'\n\n@Injectable()\nexport class TransactionService {\n  constructor() {}\n\n  processTransaction(transaction: ITransaction): Observable<string> {\n    return new BehaviorSubject<string>('5a6352c6810c19729de860ea').asObservable()\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwb3MuY29tcG9uZW50LmNzcyJ9 */\";","export default \"<p>\\n  <img\\n    src=\\\"https://user-images.githubusercontent.com/822159/36186684-9f05fef8-110e-11e8-991f-fae6ca60fe5d.png\\\" />\\n</p>\\n<p>\\n  <button mat-icon-button (click)=\\\"checkout(currentTransaction)\\\">\\n    <mat-icon>shopping_cart</mat-icon> Checkout Customer\\n  </button>\\n</p>\\n\";"],"sourceRoot":"webpack:///"}